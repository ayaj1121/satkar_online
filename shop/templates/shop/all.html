{% extends 'shop/basic.html' %}
{% load static  %}

{% block title %}all
{% endblock title %}

{% block style %}
<style>
.btn {
	color: #333;
	border-radius: 0;
	font-size: 11px;
	text-transform: uppercase;
	font-weight: bold;
	background: none;
	border: 1px solid #ccc;
	padding: 5px 10px;
	margin-top: 5px;
	line-height: 16px;
}

.thumb-wrapper{
	border-radius: 10px;
	padding: 3px;
}

.thumb-wrapper:hover{
	background-color: rgba(0, 0, 0, 0.2);
	border: #000000;
}

.btn:hover {
	color: #fff;
	background: #000000;
	border-color: #000000;
	box-shadow: none;
}
 .btn i {
	font-size: 14px;
	font-weight: bold;
	margin-left: 5px;
}

.infi

.thumb-wrapper{
	
	max-width: 500px;
	max-height: 500px;
}

.thumb-wrapper img{
	width: 100%;
height: 300px;
object-fit: contain;
background-color:#DCDCDC;
}
</style>
{% endblock style %}



{% block main %}

<div class="container-fluid pl-5 pr-5">
{{products.paginator.num_pages}}
<div class="row infinite-container">
	{% for product in products %}
	<div class="col-lg-2 col-md-4 infinite-item" style="padding-bottom: 20px;">
		<a href="#" class="text-dark" style="text-decoration: none;">
			<div class="thumb-wrapper">
			<div class="img-box">
				<img data-src="https://source.unsplash.com/random/50{{ forloop.counter|add:products.next_page_number }}*500{{ forloop.counter|add:products.next_page_number}}"
					class="img lazy" alt="">
			</div>
			<div class="thumb-content">
				<h4>{{product.product_name}}</h4>
				<p class="item-price"><strike>$315.00</strike> <span>$250.00</span></p>
				<div class="star-rating">
					<ul class="list-inline">
						<li class="list-inline-item"><i class="fa fa-star"></i></li>
						<li class="list-inline-item"><i class="fa fa-star"></i></li>
						<li class="list-inline-item"><i class="fa fa-star"></i></li>
						<li class="list-inline-item"><i class="fa fa-star-o"></i></li>
						<li class="list-inline-item"><i class="fa fa-star-o"></i></li>
					</ul>
				</div>
				<button id="{{ product.product_id }}" href="#" class="btn btn-primary ml-1" onclick="cartclick(this.id)">Add to
					Cart</button>
					<button id="{{ product.product_id }}" href="#" class="btn btn-primary ml-5 " onclick="cartclick(this.id)"><i class="fas fa-shopping-cart"></i>Buy Now</button>
			</div>
		</div></a>
	</div>



	{% endfor %}
</div>



{% if products.has_next %}
<a class="infinite-more-link" href="?page={{ products.next_page_number }}">More</a>
{% endif %}


<div class="loading" style="display: none;">
	Loading...
</div>
</div>

{% endblock main %}

{% block script %}



<script src={% static "shop/js/jquery.waypoints.js" %}></script>
<script src={% static "shop/js/infinite.min.js" %}></script>



<script >
	const myLazyLoad = new LazyLoad({
		elements_selector: ".lazy"
	});

	var infinite = new Waypoint.Infinite({
		element: $('.infinite-container')[0],
		
		onBeforePageLoad: function () {
			$('.loading').show();
		},
		onAfterPageLoad: function ($item) {
			$('.loading').hide();
			const myLazyLoad = new LazyLoad({
		elements_selector: ".lazy"
	});
		}
	});
</script>

{% endblock script %}



